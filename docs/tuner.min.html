<!doctype html><html lang=en><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><link crossorigin href=https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css integrity=sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH rel=stylesheet><link onload="this.onload=null;this.rel='stylesheet'" as=style href=./css/bootstrap-icons.min.mincss3k.css rel=preload><noscript><link href=./css/bootstrap-icons.min.mincss3k.css rel=stylesheet></noscript><script crossorigin integrity=sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz rel=preload src=https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js></script><script defer src=./js/ui.min.js></script><script src=./js/codegen.min.js></script><script src=./js/pgtuner.min.js></script><meta content="PGTuner: The :project:`pgtuner` (or PostgreSQL: DBA & Tuner) is a SQL/Python-based project designed to manage and optimize kernel parameters and database settings, focusing on TCP networking (connection management, retries, timeouts, and **buffering**), memory management (swappiness, caching), and IO optimization; whilst maintaining high performance, stability, and concurrency for various system configurations. The tuning is inspired by many successful world-wide clusters (Notion, Cloudflare, ...) from OS part, and many DBA's experts at PostgreSQL community (OnGres, Cybertec PostgreSQL, PostgreSQL thread issues, GitLab, ...)." name=description><title>PGTuner - Automatic PostgreSQL Tuning Tool</title><link href=./resource/favicon.ico rel=icon><header class=py-3 style=background:linear-gradient(#f207b8,#f564e9)><div class="container d-flex justify-content-between align-items-center"><div class="d-flex align-items-center"><img alt="PGTuner Logo" class=me-2 fetchpriority=high height=60 src=./resource/icon.min.png width=60><div><h1 class="h4 mb-0 text-white">PGTuner v0.1.5</h1><small class=text-light>Extensive PostgreSQL optimization for modern use-case</small></div></div><nav class="d-flex align-items-center"><ul class="nav me-3"><li class=nav-item><a class="nav-link text-white fw-bold" href=./tuner.min.html>Home</a><li class=nav-item><a class="nav-link text-white fw-bold" href=./changelog.min.html> Changelog </a><li class=nav-item><a class="nav-link text-white fw-bold" href=https://github.com/IchiruTake/pgtuner target=_blank> <i class="bi bi-github mx-1"></i> Contribute </a></ul></nav></div></header><body><div class="container my-4"><h2 class=mb-4>PGTuner Input Form</h2><div class=my-4><h4 class=mb-3>System, Workload and Optimization Mode</h4><div class=row><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=workload_profile>Workload Sizing</label><i class="bi bi-info-circle text-primary" data-bs-content="Choose your workload sizing suited for your system. Higher profile level means that the amount of data change is larger, with more running complex queries and connections ... " data-bs-trigger="hover focus" title="Workload Sizing" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><select class=form-select id=workload_profile name=workload_profile><option value=mini>Mini: Self-hosted or Development<option value=medium>Medium: Mini website or Small internal usage<option selected value=large>Large: City-level Scale<option value=mall>Mall: Metropolis-level or Country-level Scale<option value=bigt>BigTech: Multinational-level Scale</select></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=pgsql_version>PostgreSQL Version</label><i class="bi bi-info-circle text-primary" data-bs-content="Select the PostgreSQL version for system tuning. Supported versions are 13 -> 17 (latest)" data-bs-trigger="hover focus" title="PostgreSQL version" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><select class=form-select id=pgsql_version name=pgsql_version><option value=13>13<option value=14>14<option value=15>15<option value=16>16<option selected value=17>17</select></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=workload_type>Workload Type</label><i class="bi bi-info-circle text-primary" data-bs-content="Select the workload type for system tuning. The choice of workload type can impact some parameters, especially during the correction tuning and its associated risk level. Note that during the correction tuning, some workloads would be tuned differently according to the workload type." data-bs-trigger="hover focus" title="Workload Type" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><select class=form-select id=workload_type name=workload_type><option value=tsr_iot>TST: Time Series Data of OLTP or IoT<option value=oltp>OLTP: Online Transaction Processing<option selected value=htap>HTAP: Hybrid Transactional/Analytical Processing<option value=olap>OLAP: Online Analytical Processing<option value=vector>Vector: Full-Text Search, RAG, Geospatial Data</select></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=operating_system>Operating System</label><i class="bi bi-info-circle text-primary" data-bs-content="The operating system that the PostgreSQL server is running on. Default is Linux. If the memory usage of kernel and monitoring is set to -1, the pgtuner would self-calculate your basic RAM usage based on the developer testing. Set the memory usage of kernel and monitoring to 0 bytes if you have done your measurement." data-bs-trigger="hover focus" title="Operating System" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><select class=form-select id=operating_system name=operating_system onchange=ram_calculator()><option selected value=linux>Linux<option value=windows>Windows<option value=macos>MacOS<option value=containerd>Container (K8s, Docker, containerd)<option value=PaaS>PaaS (Cloud or 3rd-Party)</select></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=vcpu>Number of vCPUs</label><i class="bi bi-info-circle text-primary" data-bs-content="The number of logical CPUs." data-bs-trigger="hover focus" title="Number of vCPUs" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('vcpu')" placeholder="Enter the number of logical CPUs" id=vcpu_range max=128 min=1 name=vcpu step=1 type=range value=4><input class="form-control w-25" onchange="syncNumberToSlider('vcpu')" id=vcpu max=128 min=1 step=1 type=number value=4></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=total_ram_in_gib>Total RAM Size (GiB)</label><i class="bi bi-info-circle text-primary" data-bs-content="Input your total RAM size in GiB (do not account the swap or reserved memory into this field). This can bond together with the Memory profile. However, please ensure that the RAM must be larger than total RAM in use. For the PostgreSQL database the minimum memory should be larger than 4 GiB (recommended to be larger than 8 GiB)." data-bs-trigger="hover focus" title="RAM Size" data-bs-placement=auto data-bs-toggle=popover data-text-align=justify role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('total_ram_in_gib'); ram_calculator()" id=total_ram_in_gib_range max=1024 min=2 name=total_ram_in_gib step=0.25 type=range value=16><input class="form-control w-50" onchange="syncNumberToSlider('total_ram_in_gib'); ram_calculator()" id=total_ram_in_gib max=1024 min=2 step=0.25 type=number value=16></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=base_kernel_memory_usage_in_mib>Kernel Memory Usage (MiB)</label><i class="bi bi-info-circle text-primary" data-bs-content="Input your basic kernel memory usage in MiB, and probably other applications. Default to -1 meant that the pgtuner would self estimate based on the OS. Ensure your RAM capacity must be larger than this option and monitoring memory usage." data-bs-trigger="hover focus" title="Kernel Memory Usage (MiB)" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('base_kernel_memory_usage_in_mib'); ram_calculator()" id=base_kernel_memory_usage_in_mib_range max=8192 min=-1 name=base_kernel_memory_usage_in_mib step=1 type=range value=-1><input class="form-control w-50" onchange="syncNumberToSlider('base_kernel_memory_usage_in_mib'); ram_calculator()" id=base_kernel_memory_usage_in_mib max=8192 min=-1 step=1 type=number value=-1></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=base_monitoring_memory_usage_in_mib>Monitoring Memory Usage (MiB)</label><i class="bi bi-info-circle text-primary" data-bs-content="Input your monitoring memory usage in MiB, and probably other applications. Default to -1 meant that the pgtuner would self estimate based on the OS. Ensure your RAM capacity must be larger than this option and kernel memory usage." data-bs-trigger="hover focus" title="Monitoring Memory Usage (MiB)" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('base_monitoring_memory_usage_in_mib'); ram_calculator()" id=base_monitoring_memory_usage_in_mib_range max=4096 min=-1 name=base_monitoring_memory_usage_in_mib step=1 type=range value=-1><input class="form-control w-50" onchange="syncNumberToSlider('base_monitoring_memory_usage_in_mib'); ram_calculator()" id=base_monitoring_memory_usage_in_mib max=4096 min=-1 step=1 type=number value=-1></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=total_usable_ram>Total Usable RAM (MiB)</label><i class="bi bi-info-circle text-primary" data-bs-content="Output your total usable RAM in MiB that PostgreSQL can use. We recommended to have this attribute at least 1.5 GiB. Recommended minimally at 4-8 GiB at least." data-bs-trigger="hover focus" title="Total Usable RAM (MiB)" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-control w-100" disabled id=total_usable_ram onload=ram_calculator() readonly value=???></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=opt_mem_pool>Memory Pool Optimization Mode</label><i class="bi bi-info-circle text-primary" data-bs-content="If not NONE, it would proceed the extra tuning to increase the memory usage to reach to your expectation (shared_buffers, work_mem, temp_buffer, ...); by altering the pool allocation. If the initial value of the pool are too large, then it would refuse to take action including reducing the pool size." data-bs-trigger="hover focus" title="Memory Pool Optimization Mode" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><select class=form-select id=opt_mem_pool name=opt_mem_pool><option value=none>NONE: Ignore Optimization<option value=lightweight>SPIDEY: Light-weight Optimization<option selected value=general>OPTIMUS PRIME: General Optimization<option value=aggressive>PRIMORDIAL: Extreme Optimization</select></div></div></div><div class=my-4><h4 class=mb-3>Disk: Data and WAL Specifications</h4><p class=mb-3>Warning: If you are using RAID, please ensure below calculation are suitable for RAID0 where READ and WRITE can be scaled equally (not linearly) and all disks has same capacity. If you are wandering if these calculations are correct, benchmark your whole volume in throughput (MiB/s) and random IOPS (with 8KiB page size) and set the number of disks to be 1 to disable the RAID estimation.<p class=mb-3>Note that for a performant PostgreSQL server, you should host your database on at least 4 disks or 4 separate volumes: 1 for PostgreSQL binaries, configuration, and transaction management; 1 for WAL; 1 for data and index; and 1 for database logging. Also, if you use tablespace to separate random IOPS for data/index volume then it would be great. You then also need a remote storage to store the backup, WAL archive, and compressed database logs.<div class=row><h5>Data & Index Partition/Volume</h5><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=data_index_spec.random_iops>Random IOPS (8K-IO)</label><i class="bi bi-info-circle text-primary" data-bs-content="The number of random 8K-IOPS of the volume. It is best to provide result from benchmark rather than providing manufacturer's specification. On NVME SSD, the number of IOPS/throughput can be decayed, thus it is better to review those after 6-12 months of usage." data-bs-trigger="hover focus" title="Random IOPS (8K-IO)" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('data_index_spec.random_iops')" id=data_index_spec.random_iops_range max=1400000 min=50 name=data_index_spec.random_iops step=50 type=range value=5000><input class="form-control w-25" onchange="syncNumberToSlider('data_index_spec.random_iops')" id=data_index_spec.random_iops max=1400000 min=50 step=50 type=number value=5000></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=data_index_spec.throughput>Throughput (MB/s)</label><i class="bi bi-info-circle text-primary" data-bs-content="The throughput (MB/s) of the volume. It is best to provide result from benchmark rather than providing manufacturer's specification. On NVME SSD, the number of IOPS/throughput can be decayed, thus it is better to review those after 6-12 months of usage." data-bs-trigger="hover focus" title="Throughput (MB/s) " data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('data_index_spec.throughput')" id=data_index_spec.throughput_range max=14000 min=50 name=data_index_spec.throughput step=50 type=range value=300><input class="form-control w-25" onchange="syncNumberToSlider('data_index_spec.throughput')" id=data_index_spec.throughput max=14000 min=50 step=50 type=number value=300></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=data_index_spec.disk_usable_size_in_gib>Total Volume Size (GiB)</label><i class="bi bi-info-circle text-primary" data-bs-content="The total volume size of (measured in GiB). This is independent of the number of disks" data-bs-trigger="hover focus" title="Total Volume Size (GiB) " data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('data_index_spec.disk_usable_size_in_gib')" id=data_index_spec.disk_usable_size_in_gib_range max=65536 min=5 name=data_index_spec.disk_usable_size_in_gib step=1 type=range value=256><input class="form-control w-auto" onchange="syncNumberToSlider('data_index_spec.disk_usable_size_in_gib')" id=data_index_spec.disk_usable_size_in_gib max=65536 min=5 step=1 type=number value=256></div></div></div><div class=row><h5 class=mb-3>WAL Partition/Volume</h5><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=wal_spec.random_iops>Random IOPS (8K-IO)</label><i class="bi bi-info-circle text-primary" data-bs-content="The number of random 8K-IOPS of the volume. It is best to provide result from benchmark rather than providing manufacturer's specification. On NVME SSD, the number of IOPS/throughput can be decayed, thus it is better to review those after 6-12 months of usage." data-bs-trigger="hover focus" title="Random IOPS (8K-IO)" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('wal_spec.random_iops')" id=wal_spec.random_iops_range max=1400000 min=50 name=wal_spec.random_iops step=50 type=range value=5000><input class="form-control w-25" onchange="syncNumberToSlider('wal_spec.random_iops')" id=wal_spec.random_iops max=1400000 min=50 step=50 type=number value=5000></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=wal_spec.throughput>Throughput (MB/s)</label><i class="bi bi-info-circle text-primary" data-bs-content="The throughput (MB/s) of the volume. It is best to provide result from benchmark rather than providing manufacturer's specification. On NVME SSD, the number of IOPS/throughput can be decayed, thus it is better to review those after 6-12 months of usage." data-bs-trigger="hover focus" title="Throughput (MB/s) " data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('wal_spec.throughput')" id=wal_spec.throughput_range max=14000 min=50 name=wal_spec.throughput step=50 type=range value=500><input class="form-control w-25" onchange="syncNumberToSlider('wal_spec.throughput')" id=wal_spec.throughput max=14000 min=50 step=50 type=number value=500></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=wal_spec.disk_usable_size_in_gib>Total Volume Size (GiB)</label><i class="bi bi-info-circle text-primary" data-bs-content="The total volume size of (measured in GiB). This is independent of the number of disks" data-bs-trigger="hover focus" title="Total Volume Size (GiB) " data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('wal_spec.disk_usable_size_in_gib')" id=wal_spec.disk_usable_size_in_gib_range max=65536 min=5 name=wal_spec.disk_usable_size_in_gib step=1 type=range value=256><input class="form-control w-auto" onchange="syncNumberToSlider('wal_spec.disk_usable_size_in_gib')" id=wal_spec.disk_usable_size_in_gib max=65536 min=5 step=1 type=number value=256></div></div></div></div><div class=my-4><h4 class=mb-3>Anti-wraparound Vacuum Tuning</h4><p>These settings are used to estimate what is the optimized scenario to perform aggressive anti-wraparound vacuum.<div class=row><div class="col-6 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=database_size_in_gib>Database Size (in GiB)</label><i class="bi bi-info-circle text-primary" data-bs-content="The total data size on server (in GiB). This value is used to estimate the maximum database size for anti-wraparound vacuum. If this field is zero, the assumption is about 60 % usage of the data volume. The supported range is [0, 32768], but its maximum threshold silently capped at 90% of the data volume." data-bs-trigger="hover focus" title="Total data size (in GiB)" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('database_size_in_gib')" id=database_size_in_gib_range max=32768 min=0 name=database_size_in_gib step=1 type=range value=20><input class="form-control w-auto" onchange="syncNumberToSlider('database_size_in_gib')" id=database_size_in_gib max=32768 min=0 step=1 type=number value=20></div></div><div class="col-6 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=num_write_transaction_per_hour_on_workload>Number of Write Transactions per Hour on Workload</label><i class="bi bi-info-circle text-primary" data-bs-content="The peak number of workload WRITE transaction per hour (including sub-transactions, accounting all attempts to make data changes (not SELECT) regardless of COMMIT and ROLLBACK). Note that this number requires you to have good estimation on how much your server can be handled during its busy workload and idle workload. It is best to collect your real-world data pattern before using this value." data-bs-trigger="hover focus" title="Number of Write Transactions per Hour on Workload on Server" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('num_write_transaction_per_hour_on_workload')" id=num_write_transaction_per_hour_on_workload_range max=20000000 min=1000 name=num_write_transaction_per_hour_on_workload step=1000 type=range value=50000><input class="form-control w-auto" onchange="syncNumberToSlider('num_write_transaction_per_hour_on_workload')" id=num_write_transaction_per_hour_on_workload max=20000000 min=1000 step=1000 type=number value=50000></div></div></div></div><div class=my-4><h4 class=mb-3>Data Integrity, Transaction Efficiency, Crash Recovery, and Replication</h4><div class=row><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=max_backup_replication_tool>Max Level of Backup & Replication Tool</label><i class="bi bi-info-circle text-primary" data-bs-content="Select the maximum level of backup and replication tool for system tuning. This argument is also helps to set the wal_level variable. The level of wal_level can be determined by maximum of achieved replication tool and number of replicas but would not impact on the data/transaction integrity choice." data-bs-trigger="hover focus" title="Max Level of Backup & Replication Tool" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><select class=form-select id=max_backup_replication_tool name=max_backup_replication_tool><option value=DISK_SNAPSHOT>0: Backup by Disk Snapshot<option value=PG_DUMP>1: pg_dump/pg_dumpall for logical-textual backup<option selected value=PG_BASEBACKUP>2: pg_basebackup [--incremental] or streaming replication (byte-capture change): Byte-level backup<option value=PG_LOGICAL>3: pg_logical and alike: Logical replication</select></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=opt_transaction_lost>Transaction Optimization Profile</label><i class="bi bi-info-circle text-primary" data-bs-content="The PostgreSQL mode to increase the risk of transaction loss in exchange for performance. Unless you are running hardware benchmarking only or in non-critical system with low data integrity requirement, it is not recommended to choose any optimization mode. Set to SPIDEY only when you don't request a replica for high-availability or disaster recovery. Beyond that, OPTIMUS_PRIME would switch the full_page_writes to off, and PRIMORDIAL would switch the fsync to off. Use with your own risk and caution." data-bs-trigger="hover focus" title="Transaction Optimization Profile" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><select class=form-select id=opt_transaction_lost name=opt_transaction_lost><option selected value=NONE>NONE: Ignore Optimization<option value=SPIDEY>SPIDEY: Light-weight Optimization<option value=OPTIMUS_PRIME>OPTIMUS PRIME: General Optimization<option value=PRIMORDIAL>PRIMORDIAL: Extreme Optimization</select></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=opt_wal_buffers>WAL Buffer Optimization Profile</label><i class="bi bi-info-circle text-primary" data-bs-content="The WAL buffer optimization mode (in the correction tuning phase) to ensure that during the WAL buffer WRITE cycle, the PostgreSQL outage would lose less data than the maximum time of lossy transaction. To allow less data being lost during outage, it is recommended to increase the sequential write performance of WAL volume, reduce our proposed WAL buffers value, or allow higher time for transaction loss. Set to SPIDEY ensure the full WAL buffer can be flushed to disk (assumed with no latency) in less than 2x of wal_writer_delay. Set to OPTIMUS_PRIME for 1.5x and PRIMORDIAL for 2x of WAL buffers can be flushed to disk in less than 3x of wal_writer_delay. A side note is our WAL file rotation time is set to be 0.42ms. Unfortunately, our setup prevents that if your WAL volume is HDD or SAN, and your workload is not SOLTP or LOG, it would force to the SPIDEY mode." data-bs-trigger="hover focus" title="WAL Buffer Optimization Profile" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><select class=form-select id=opt_wal_buffers name=opt_wal_buffers><option value=NONE>NONE: Ignore Optimization<option selected value=SPIDEY>SPIDEY: Light-weight Optimization<option value=OPTIMUS_PRIME>OPTIMUS PRIME: General Optimization<option value=PRIMORDIAL>PRIMORDIAL: Extreme Optimization</select></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=max_num_stream_replicas_on_primary>How many stream replicas you attempted to made?</label><i class="bi bi-info-circle text-primary" data-bs-content="The number of stream replicas you attempted to made." data-bs-trigger="hover focus" title="Maximum number of streaming replicas on the primary server" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('max_num_stream_replicas_on_primary')" id=max_num_stream_replicas_on_primary_range max=32 min=0 name=max_num_stream_replicas_on_primary step=1 type=range value=0><input class="form-control w-auto" onchange="syncNumberToSlider('max_num_stream_replicas_on_primary')" id=max_num_stream_replicas_on_primary max=32 min=0 step=1 type=number value=0></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=max_num_logical_replicas_on_primary>How many logical replicas you attempted to made?</label><i class="bi bi-info-circle text-primary" data-bs-content="The number of logical replicas you attempted to made." data-bs-trigger="hover focus" title="Maximum number of logical replicas on the primary server" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('max_num_logical_replicas_on_primary')" id=max_num_logical_replicas_on_primary_range max=32 min=0 name=max_num_logical_replicas_on_primary step=1 type=range value=0><input class="form-control w-auto" onchange="syncNumberToSlider('max_num_logical_replicas_on_primary')" id=max_num_logical_replicas_on_primary max=32 min=0 step=1 type=number value=0></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=max_time_transaction_loss_allow_in_millisecond>Maximum Allow Time for Transaction Loss (ms)</label><i class="bi bi-info-circle text-primary" data-bs-content="The maximum time (in milli-second) that user allow for transaction loss, to flush the page in memory to WAL partition by WAL writer. The supported range is [1, 10000] and default is 650 (translated to the default 200ms or 3.25x of wal_writer_delay). Assuming the outage happened, the maximum data loss is a full of WAL buffers or twice of wal_writer_delay (worst case at three times). The wal_writer_delay can only be impacted when wal_level is set to replica and higher." data-bs-trigger="hover focus" title="Maximum Time in Millisecond for Transaction Loss Allowance" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('max_time_transaction_loss_allow_in_millisecond')" id=max_time_transaction_loss_allow_in_millisecond_range max=10000 min=100 name=max_time_transaction_loss_allow_in_millisecond step=50 type=range value=650><input class="form-control w-auto" onchange="syncNumberToSlider('max_time_transaction_loss_allow_in_millisecond')" id=max_time_transaction_loss_allow_in_millisecond max=10000 min=100 step=50 type=number value=650></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=offshore_replication>Offshore Replication (regional or international)</label><i class="bi bi-info-circle text-primary" data-bs-content="Set to True meant that you are planning to have an geo-replicated replicas in the offshore country or continent; this would increase the wal_sender_timeout to 2 minutes or more." data-bs-trigger="hover focus" title="Offshore Replication" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center form-check form-switch"><input class=form-check-input id=offshore_replication role=switch type=checkbox><label class="form-check-label px-3" for=offshore_replication>No</label></div></div></div></div><div class=my-4><h4 class=mb-3>Tuning Mode</h4><div class=row><div class="col-3 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=enable_database_general_tuning>Enable Database General Tuning</label><i class="bi bi-info-circle text-primary" data-bs-content="Enable database general tuning." data-bs-trigger="hover focus" title="Enable Database General Tuning" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center form-check form-switch"><input checked class=form-check-input id=enable_database_general_tuning role=switch type=checkbox><label class="form-check-label px-3" for=enable_database_general_tuning>Yes</label></div></div><div class="col-3 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=enable_database_correction_tuning>Enable Database Correction Tuning</label><i class="bi bi-info-circle text-primary" data-bs-content="Enable database correction tuning." data-bs-trigger="hover focus" title="Enable Database Correction Tuning" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center form-check form-switch"><input checked class=form-check-input id=enable_database_correction_tuning role=switch type=checkbox><label class="form-check-label px-3" for=enable_database_correction_tuning>Yes</label></div></div></div><div class=row><div class="col-3 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=include_comment>Include Comment</label><i class="bi bi-info-circle text-primary" data-bs-content="Enable it to add the comment into the response" data-bs-trigger="hover focus" title="Include Comment" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center form-check form-switch"><input class=form-check-input id=include_comment role=switch type=checkbox><label class="form-check-label px-3" for=include_comment>No</label></div></div><div class="col-3 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=custom_style>Alter Style</label><i class="bi bi-info-circle text-primary" data-bs-content="Enable it to switch the format into ALTER SYSTEM SET" data-bs-trigger="hover focus" title="Alter Style" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center form-check form-switch"><input class=form-check-input id=custom_style role=switch type=checkbox><label class="form-check-label px-3" for=custom_style>No</label></div></div><div class="col-3 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=backup_settings>Backup Settings</label><i class="bi bi-info-circle text-primary" data-bs-content="Enable it to add the request's information." data-bs-trigger="hover focus" title="Backup Settings" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center form-check form-switch"><input checked class=form-check-input id=backup_settings role=switch type=checkbox><label class="form-check-label px-3" for=backup_settings>Yes</label></div></div><div class="col-3 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=analyze_with_full_connection_use>Analyze Memory Usage when Full Connection</label><i class="bi bi-info-circle text-primary" data-bs-content="Enable it when you need the memory display when all connections are in maximum usage." data-bs-trigger="hover focus" title="Analyze Memory Usage when Full Connection" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center form-check form-switch"><input checked class=form-check-input id=analyze_with_full_connection_use role=switch type=checkbox><label class="form-check-label px-3" for=analyze_with_full_connection_use>Yes</label></div></div><div class="col-3 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=ignore_non_performance_setting>Ignore Non-Performance Setting</label><i class="bi bi-info-circle text-primary" data-bs-content="Enable it when you need the memory display when all connections are in maximum usage." data-bs-trigger="hover focus" title="Analyze Memory Usage when Full Connection" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center form-check form-switch"><input class=form-check-input id=ignore_non_performance_setting role=switch type=checkbox><label class="form-check-label px-3" for=analyze_with_full_connection_use>No</label></div></div><div class="col-3 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=output_format>Output Format</label><i class="bi bi-info-circle text-primary" data-bs-content="Select your desired output format." data-bs-trigger="hover focus" title="Output Format" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><select class=form-select id=output_format name=output_format><option value=conf>Conf: INI Format<option value=json>JSON: JSON Format<option selected value=file>File: Fully-Managed INI Format</select></div></div></div><div class=my-4><h4 class=mb-3>Advanced Tuning Parameters</h4><p>These advanced parameters allowed you to have more control over the PostgreSQL database settings, such as higher memory utilization per connection, connection scaling, future-proofing your server against multiple profiles, and more. Some benefits of these advanced settings are: - Reduce fine-grained memory control (session-based memory tuning) by application. - Higher WAL utilization for high-transactional databases. - ...</p><button class="btn btn-secondary" aria-controls=advancedSettings aria-expanded=false data-bs-target=#advancedSettings data-bs-toggle=collapse type=button>Show Advanced Settings</button><div class=collapse id=advancedSettings><div class="card card-body my-3"><h5 class=mb-3>Connection Control</h5><div class=row><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.user_max_connections>Maximum Number of Users Connections</label><i class="bi bi-info-circle text-primary" data-bs-content="The maximum number of client connections allowed (override by user). Unless necessary required to have large number of connections, it is best to use default and if the number of user connections exceed 75 then it is better to use connection pooling to minimize connection latency overhead and memory usage." data-bs-trigger="hover focus" title="Maximum Number of Users Connections" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.user_max_connections')" id=keywords.user_max_connections_range max=1000 min=0 name=keywords.user_max_connections step=1 type=range value=0><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.user_max_connections')" id=keywords.user_max_connections max=1000 min=0 step=1 type=number value=0></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.cpu_to_connection_scale_ratio>CPU to Connection Scale Ratio</label><i class="bi bi-info-circle text-primary" data-bs-content="The scale factor to translate from number of logical CPUs to database connections to optimize IPC of CPU and reduce latency and overhead of context switches." data-bs-trigger="hover focus" title="CPU to Connection Scale Ratio" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.cpu_to_connection_scale_ratio')" id=keywords.cpu_to_connection_scale_ratio_range max=10 min=2.5 name=keywords.cpu_to_connection_scale_ratio step=0.5 type=range value=4><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.cpu_to_connection_scale_ratio')" id=keywords.cpu_to_connection_scale_ratio max=10 min=2.5 step=0.5 type=number value=4></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.superuser_reserved_connections_scale_ratio>Superuser Reserved Connections Scale Ratio</label><i class="bi bi-info-circle text-primary" data-bs-content="The de-scale factor for the reserved superuser connections over the normal reserved connection. Higher value means less superuser reserved connection." data-bs-trigger="hover focus" title="Superuser Reserved Connections Scale Ratio" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.superuser_reserved_connections_scale_ratio')" id=keywords.superuser_reserved_connections_scale_ratio_range max=3 min=1 name=keywords.superuser_reserved_connections_scale_ratio step=0.1 type=range value=1.5><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.superuser_reserved_connections_scale_ratio')" id=keywords.superuser_reserved_connections_scale_ratio max=3 min=1 step=0.1 type=number value=1.5></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.single_memory_connection_overhead_in_kib>Total Memory Used per Connection (KiB)</label><i class="bi bi-info-circle text-primary" data-bs-content="The memory overhead for a single connection at idle state. This value is used to estimate the memory usage for each connection; and it is advised to not set it too high or change it as it could make the estimation to be incorrect (recommend to be between 4 - 8 MiB)." data-bs-trigger="hover focus" title="Total Memory Used per Connection (KiB)" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.single_memory_connection_overhead_in_kib')" id=keywords.single_memory_connection_overhead_in_kib_range max=12288 min=2048 name=keywords.single_memory_connection_overhead_in_kib step=512 type=range value=5120><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.single_memory_connection_overhead_in_kib')" id=keywords.single_memory_connection_overhead_in_kib max=12288 min=2048 step=512 type=number value=5120></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.memory_connection_to_dedicated_os_ratio>Connection: Memory on OS Ratio</label><i class="bi bi-info-circle text-primary" data-bs-content="The ratio of the memory connection reserved to the dedicated OS memory rather on shared_buffers from PostgreSQL memory." data-bs-trigger="hover focus" title="Connection: Memory on OS Ratio" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.memory_connection_to_dedicated_os_ratio')" id=keywords.memory_connection_to_dedicated_os_ratio_range max=1 min=0 name=keywords.memory_connection_to_dedicated_os_ratio step=0.05 type=range value=0.7><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.memory_connection_to_dedicated_os_ratio')" id=keywords.memory_connection_to_dedicated_os_ratio max=1 min=0 step=0.05 type=number value=0.7></div></div></div><h5 class=mb-3>Memory Control (Basic)</h5><div class=row><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.effective_cache_size_available_ratio>Effective Cache Size Available Ratio</label><i class="bi bi-info-circle text-primary" data-bs-content="The percentage of effective_cache_size over the total PostgreSQL available memory excluding the shared_buffers and others. It is recommended to set this value higher than 0.975 but not too close to 1.0 for OS memory page reservation against the worst extreme case" data-bs-trigger="hover focus" title="Effective Cache Size Available Ratio" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.effective_cache_size_available_ratio')" id=keywords.effective_cache_size_available_ratio_range max=1.0 min=0.95 name=keywords.effective_cache_size_available_ratio step=0.005 type=range value=0.985><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.effective_cache_size_available_ratio')" id=keywords.effective_cache_size_available_ratio max=1.0 min=0.95 step=0.005 type=number value=0.985></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.shared_buffers_ratio>Shared Buffers Ratio</label><i class="bi bi-info-circle text-primary" data-bs-content="The ratio of shared_buffers to the PostgreSQL total non-database memory. The supported range is [0.15, 0.60), default is 0.25. However, we recommend that this value should be below 0.40 to prevent double caching unless you are making a read-only database, in-memory database, or a not-good synthetic benchmark." data-bs-trigger="hover focus" title="Shared Buffers Ratio" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.shared_buffers_ratio')" id=keywords.shared_buffers_ratio_range max=0.60 min=0.15 name=keywords.shared_buffers_ratio step=0.01 type=range value=0.25><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.shared_buffers_ratio')" id=keywords.shared_buffers_ratio max=0.60 min=0.15 step=0.01 type=number value=0.25></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.max_work_buffer_ratio>Max Work Buffer Pool Ratio</label><i class="bi bi-info-circle text-primary" data-bs-content="The ratio of the maximum PostgreSQL available memory (excluding shared_buffers and others) to be used in the session-based variable: temp_buffers and work_mem (globally managed). The algorithm is temp_buffers + work_mem = (pgmem_available * max_work_buffer_ratio) / active_user_connections." data-bs-trigger="hover focus" title="Max Work Buffer Pool Ratio" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.max_work_buffer_ratio')" id=keywords.max_work_buffer_ratio_range max=0.50 min=0.01 name=keywords.max_work_buffer_ratio step=0.005 type=range value=0.075><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.max_work_buffer_ratio')" id=keywords.max_work_buffer_ratio max=0.50 min=0.01 step=0.005 type=number value=0.075></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.effective_connection_ratio>Effective Connection Ratio</label><i class="bi bi-info-circle text-primary" data-bs-content="The percentage of the maximum non-reserved connection used to tune temp_buffers and work_mem. The supported range is [0.25, 1], default is 0.75. Set to 1 meant that we assume all the normal connections use the same temp_buffers and work_mem. Reduce this ratio would increase the temp_buffers and work_mem allowed for each connection by assuming not all active connections are running complex queries that requires high work_mem or temp_buffers." data-bs-trigger="hover focus" title="Effective Connection Ratio" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.effective_connection_ratio')" id=keywords.effective_connection_ratio_range max=1 min=0.25 name=keywords.effective_connection_ratio step=0.05 type=range value=0.75><input class="form-control w-auto" onchange="syncNumberToSlider('effective_connection_ratio')" id=keywords.effective_connection_ratio max=1 min=0.25 step=0.05 type=number value=0.75></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.temp_buffers_ratio>Temp Buffers Ratio</label><i class="bi bi-info-circle text-primary" data-bs-content="The ratio of temp_buffers to the work_buffer pool above. The supported range is [0.25, 0.95], default is 2/3. Increase this value make the temp_buffers larger than the work_mem. If you have query that use much temporary object (temporary table, CTE, ...) then you can increase this value slowly. If you have query involving more WRITE and/or the WRITE query plan is complex involving HASH, JOIN, MERGE, ... then it is better to decrease this value." data-bs-trigger="hover focus" title="Temp Buffers Ratio" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.temp_buffers_ratio')" id=keywords.temp_buffers_ratio_range max=0.95 min=0.05 name=keywords.temp_buffers_ratio step=0.01 type=range value=0.25><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.temp_buffers_ratio')" id=keywords.temp_buffers_ratio max=0.95 min=0.05 step=0.01 type=number value=0.25></div></div></div><h5 class=mb-3>Memory Control (Advanced)</h5><div class=row><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.max_normal_memory_usage>Max Normal Memory Usage</label><i class="bi bi-info-circle text-primary" data-bs-content="The maximum memory usage under normal PostgreSQL operation over the usable memory. This holds as the upper bound to increase the pool allocation before reaching the limit. The supported range is [0.35, 0.85], default is 0.45. Increase this ratio meant you are expecting your server would have more headroom for the tuning and thus for database workload. It is not recommended to set this value too high, as there are multiple constraints that prevent further tuning to keep your server function properly without unknown incident such as parallelism, maintenance, and other background tasks." data-bs-trigger="hover focus" title="Max Normal Memory Usage" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.max_normal_memory_usage')" id=keywords.max_normal_memory_usage_range max=0.80 min=0.35 name=keywords.max_normal_memory_usage step=0.01 type=range value=0.45><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.max_normal_memory_usage')" id=keywords.max_normal_memory_usage max=0.80 min=0.35 step=0.01 type=number value=0.45></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.mem_pool_tuning_ratio>Memory Pool Tuning Ratio</label><i class="bi bi-info-circle text-primary" data-bs-content="The memory tuning ratio in correction tuning between shared_buffers and work_buffers. Higher value meant that the tuning would prefer the shared_buffers over the work_buffers, and vice versa." data-bs-trigger="hover focus" title="Memory Pool Tuning Ratio" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.mem_pool_tuning_ratio')" id=keywords.mem_pool_tuning_ratio_range max=1.0 min=0.0 name=keywords.mem_pool_tuning_ratio step=0.025 type=range value=0.4><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.mem_pool_tuning_ratio')" id=keywords.mem_pool_tuning_ratio max=1.0 min=0.0 step=0.025 type=number value=0.4></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.mem_pool_parallel_estimate>Memory Pool Parallel Estimate</label><i class="bi bi-info-circle text-primary" data-bs-content="The flag to use the parallel memory estimation during memory pool tuning." data-bs-trigger="hover focus" title="Memory Pool Parallel Estimate" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center form-check form-switch"><input checked class=form-check-input id=keywords.mem_pool_parallel_estimate role=switch type=checkbox><label class="form-check-label px-3" for=keywords.mem_pool_parallel_estimate>Yes</label></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.hash_mem_usage_level>Hash Mem Usage Level</label><i class="bi bi-info-circle text-primary" data-bs-content="The hash memory usage level. Higher value would assume that all PostgreSQL connections, on average,do more hash-based operations than normal operations, and vice versa. Recommended range is around -10 to 6." data-bs-trigger="hover focus" title="Hash Mem Usage Level" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.hash_mem_usage_level')" id=keywords.hash_mem_usage_level_range max=50 min=-50 name=keywords.hash_mem_usage_level step=1 type=range value=-5><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.hash_mem_usage_level')" id=keywords.hash_mem_usage_level max=50 min=-50 step=1 type=number value=-5></div></div></div><h5 class=mb-3>Logging</h5><div class=row><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.max_query_length_in_bytes>Max Query Length (Bytes)</label><i class="bi bi-info-circle text-primary" data-bs-content="The maximum allowed query length in bytes for logging." data-bs-trigger="hover focus" title="Max Query Length (Bytes)" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.max_query_length_in_bytes')" id=keywords.max_query_length_in_bytes_range max=67108864 min=64 name=keywords.max_query_length_in_bytes step=64 type=range value=2048><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.max_query_length_in_bytes')" id=keywords.max_query_length_in_bytes max=67108864 min=64 step=64 type=number value=2048></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.max_runtime_ms_to_log_slow_query>Max Runtime to Log Slow Query (ms)</label><i class="bi bi-info-circle text-primary" data-bs-content="The maximum runtime in milliseconds to consider a query slow and log it." data-bs-trigger="hover focus" title="Max Runtime to Log Slow Query (ms)" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.max_runtime_ms_to_log_slow_query')" id=keywords.max_runtime_ms_to_log_slow_query_range max=100000 min=20 name=keywords.max_runtime_ms_to_log_slow_query step=10 type=range value=2000><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.max_runtime_ms_to_log_slow_query')" id=keywords.max_runtime_ms_to_log_slow_query max=100000 min=20 step=10 type=number value=2000></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.max_runtime_ratio_to_explain_slow_query>Max Runtime Ratio to Explain Slow Query</label><i class="bi bi-info-circle text-primary" data-bs-content="The ratio of runtime for automatically explaining slow queries." data-bs-trigger="hover focus" title="Max Runtime Ratio to Explain Slow Query" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.max_runtime_ratio_to_explain_slow_query')" id=keywords.max_runtime_ratio_to_explain_slow_query_range max=10.0 min=0.1 name=keywords.max_runtime_ratio_to_explain_slow_query step=0.1 type=range value=1.5><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.max_runtime_ratio_to_explain_slow_query')" id=keywords.max_runtime_ratio_to_explain_slow_query max=10.0 min=0.1 step=0.1 type=number value=1.5></div></div></div><h5 class=mb-3>Write-Ahead Log (WAL)</h5><div class=row><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.wal_segment_size_scale>WAL Segment Size Scale Factor (per 16 MiB)</label><i class="bi bi-info-circle text-primary" data-bs-content="The WAL segment size scaler in PostgreSQL (in MiB), translated into the value of (16 x 2^scaler) MiB. Whilst the tuning of this value is not recommended as mentioned in due to some hard-coded in 3rd-party tools, slow WAL recovery on empty-large WAL files, archiving-transferring, etc. The benchmark from PostgreSQL team only show improvement on synthetic benchmark with high concurrent connections that write in large batch beyond a base value of 16 MiB. Increase this value only meant when (1) you have a lot of incoming WRITE beyond 16 MiB per transaction, (2) high WAL file rotation time during workload (usually at old kernel and old PostgreSQL version), (3) high archive transfer due to small files (a lot of 16 MiB files) that translated into a mix of random and sequential IOPS, and (4) low number of files in filesystem. Just to remember to adjust the max_wal_size, archive_timeout, wal_buffers, and checkpoint_timeout to better suit your workload. For best number, it is advised to keep it equal or below 3" data-bs-trigger="hover focus" title="WAL Segment Size Scaler" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.wal_segment_size_scale')" id=keywords.wal_segment_size_scale_range max=7 min=0 name=keywords.wal_segment_size_scale step=1 type=range value=0><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.wal_segment_size_scale')" id=keywords.wal_segment_size_scale max=7 min=0 step=1 type=number value=0></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.min_wal_size_ratio>Min WAL Size Ratio</label><i class="bi bi-info-circle text-primary" data-bs-content="'The ratio of the min_wal_size against the total WAL volume. The supported range is [0.0, 0.15], default to 0.05 (5% of WAL volume). This value meant that by default of 5%, if the WAL usage is already around 95% of disk usage, 5% is reserved to handle spikes in WAL usage, allowing time for CHECKPOINT and ARCHIVE to run to cleanup WAL archive, ensuring the WAL is not in full, data files are updated, WAL files are archived (without cleanup), and cleanup later on. Internally, the min_wal_size has an internal lower bound of 32 WAL files or 2 GiB and an upper bound of 1.05x of max_wal_size (since the max_wal_size is a soft limit), ensuring the CHECKPOINT can apply and ARCHIVE (without cleanup) can run." data-bs-trigger="hover focus" title="Min WAL Ratio Scale" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.min_wal_size_ratio')" id=keywords.min_wal_size_ratio_range max=0.15 min=0.0 name=keywords.min_wal_size_ratio step=0.005 type=range value=0.05><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.min_wal_size_ratio')" id=keywords.min_wal_size_ratio max=0.15 min=0.0 step=0.005 type=number value=0.05></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.max_wal_size_ratio>Max WAL Size Ratio</label><i class="bi bi-info-circle text-primary" data-bs-content="The ratio of the max_wal_size against the total WAL volume. The supported range is [0.0, 0.15], default to 0.03 (3% of WAL volume). But internally, the max_wal_size has an internal lower bound of 64 WAL files or 4 GiB to prevent the automatic running too frequently during burst, causing the WAL spike; and the upper bound of 64 GiB to ensure fast recovery on burst at large scale." data-bs-trigger="hover focus" title="Max WAL Size Ratio" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.max_wal_size_ratio')" id=keywords.max_wal_size_ratio_range max=0.30 min=0.0 name=keywords.max_wal_size_ratio step=0.005 type=range value=0.05><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.max_wal_size_ratio')" id=keywords.max_wal_size_ratio max=0.30 min=0.0 step=0.005 type=number value=0.05></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.wal_keep_size_ratio>Wal Keep Size Ratio</label><i class="bi bi-info-circle text-primary" data-bs-content="The ratio of the wal_keep_size against the total WAL volume. The supported range is [0.0, 0.30], default to 0.05 (5% of WAL volume). This value is used to ensure that the WAL archive is kept for a certain period of time before it is removed. Azure uses 400 MiB of WAL which is 25 WAL files. Internally, the wal_keep_size has an internal lower bound of 32 WAL files or 2 GiB to ensure a good time for retrying the WAL streaming and an upper  bound of 64 GiB. Beyond this value, whilst you cannot retry downstream connections but can recovery from the WAL archive disk, beyond our upper bound; it is best to re-use a later base backup and retry the WAL streaming from the beginning to avoid headache of fixing the server (usually when dealing that large server." data-bs-trigger="hover focus" title="Wal Keep Size Ratio" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.wal_keep_size_ratio')" id=keywords.wal_keep_size_ratio_range max=0.30 min=0.0 name=keywords.wal_keep_size_ratio step=0.005 type=range value=0.05><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.wal_keep_size_ratio')" id=keywords.wal_keep_size_ratio max=0.30 min=0.0 step=0.005 type=number value=0.05></div></div></div><h5 class=mb-3>Autovacuum</h5><div class=row><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.autovacuum_utilization_ratio>Autovacuum Utilization Ratio</label><i class="bi bi-info-circle text-primary" data-bs-content="The utilization ratio of the random IOPS of data volume used for the autovacuum process. Higher value meant that more estimated READ/WRITE IOPs would be spent on the autovacuum process to reduce the autovacuum time; but it is not recommended to set this beyond 0.90." data-bs-trigger="hover focus" title="Autovacuum Utilization Ratio" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.autovacuum_utilization_ratio')" id=keywords.autovacuum_utilization_ratio_range max=0.95 min=0.30 name=keywords.autovacuum_utilization_ratio step=0.01 type=range value=0.80><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.autovacuum_utilization_ratio')" id=keywords.autovacuum_utilization_ratio max=0.95 min=0.30 step=0.01 type=number value=0.80></div></div><div class="col-4 mb-3"><div class="d-flex justify-content-between align-items-center"><label class=form-label for=keywords.vacuum_safety_level>Autovacuum Utilization</label><i class="bi bi-info-circle text-primary" data-bs-content="The safety level of the vacuum process. Higher level would increase the risk during vacuum process (by pushing its limit). Non-zero value would not protect from pure READ page during the vacuum process, but ensuring never throttle on WRITE page(s) during VACUUM, and protect the server under balanced distribution of READ/WRITE page from disks. Unless you lower the :var:`autovacuum_utilization_ratio`, it is recommended to set this value low to zero to when you do not know how your application access pattern and VACUUM behaves. This parameter is feasible only due to the use of optimized autovacuum configuration and visibility map, and is recommended a zero value if your PostgreSQL is at version 12 or older." data-bs-trigger="hover focus" title="Autovacuum Utilization" data-bs-placement=auto data-bs-toggle=popover role=button tabindex=0> </i></div><div class="d-flex align-items-center"><input class="form-range me-3" onchange="syncSliderToNumber('keywords.vacuum_safety_level')" id=keywords.vacuum_safety_level_range max=12 min=0 name=keywords.vacuum_safety_level step=1 type=range value=2><input class="form-control w-auto" onchange="syncNumberToSlider('keywords.vacuum_safety_level')" id=keywords.vacuum_safety_level max=12 min=0 step=1 type=number value=2></div></div></div></div></div></div><div class=my-3><div class=row><div class="col-6 d-flex align-items-start justify-content-center"><button class="btn btn-primary" id=generate-config onclick=submitConfiguration()>Generate Configuration</button></div><div class="col-6 d-flex align-items-start justify-content-center"><button class="btn btn-outline-secondary mb-3 mx-3" onclick=copyToClipboard()>Copy to Clipboard</button><button class="btn btn-outline-secondary mb-3" onclick=downloadResponse()>Download Report</button></div><div class=col-6><textarea class="form-control object-fit-fill bordered rounded" placeholder="Memory Result Test is here ..." id=mem-report readonly rows=32 style=font-size:13px>
                </textarea></div><div class=col-6><textarea class="form-control object-fit-fill bordered rounded" placeholder="Response will appear here..." id=response-box readonly rows=32 style=font-size:13px></textarea></div></div></div></div></body><script>const popoverTriggerList=[].slice.call(document.querySelectorAll(`[data-bs-toggle="popover"]`));const popoverList=popoverTriggerList.map(a=>new bootstrap.Popover(a))</script>